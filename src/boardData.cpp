#include "boardData.hpp"

const BitBoard32 SQUARE_CONFLICT_MASKS[BOARD_SQUARE_COUNT][BOARD_TRI_ROW_COUNT] = {
        { 0x07e3f001, 0x07fbfdfe, 0x07fbfdfe },
        { 0x07e3f002, 0x07f7fbfd, 0x07f7fbfd },
        { 0x07e3f004, 0x07eff7fb, 0x07eff7fb },
        { 0x071f8e08, 0x07dfeff7, 0x07dfeff7 },
        { 0x071f8e10, 0x07bfdfef, 0x07bfdfef },
        { 0x071f8e20, 0x077fbfdf, 0x077fbfdf },
        { 0x00fc7e40, 0x06ff7fbf, 0x06ff7fbf },
        { 0x00fc7e80, 0x05feff7f, 0x05feff7f },
        { 0x00fc7f00, 0x03fdfeff, 0x03fdfeff },
        { 0x07e003f8, 0x07fbfdfe, 0x07fbfdfe },
        { 0x07e005f8, 0x07f7fbfd, 0x07f7fbfd },
        { 0x07e009f8, 0x07eff7fb, 0x07eff7fb },
        { 0x071c11c7, 0x07dfeff7, 0x07dfeff7 },
        { 0x071c21c7, 0x07bfdfef, 0x07bfdfef },
        { 0x071c41c7, 0x077fbfdf, 0x077fbfdf },
        { 0x00fc803f, 0x06ff7fbf, 0x06ff7fbf },
        { 0x00fd003f, 0x05feff7f, 0x05feff7f },
        { 0x00fe003f, 0x03fdfeff, 0x03fdfeff },
        { 0x0007f1f8, 0x07fbfdfe, 0x07fbfdfe },
        { 0x000bf1f8, 0x07f7fbfd, 0x07f7fbfd },
        { 0x0013f1f8, 0x07eff7fb, 0x07eff7fb },
        { 0x00238fc7, 0x07dfeff7, 0x07dfeff7 },
        { 0x00438fc7, 0x07bfdfef, 0x07bfdfef },
        { 0x00838fc7, 0x077fbfdf, 0x077fbfdf },
        { 0x01007e3f, 0x06ff7fbf, 0x06ff7fbf },
        { 0x02007e3f, 0x05feff7f, 0x05feff7f },
        { 0x04007e3f, 0x03fdfeff, 0x03fdfeff },
        { 0x07fbfdfe, 0x07e3f001, 0x07fbfdfe },
        { 0x07f7fbfd, 0x07e3f002, 0x07f7fbfd },
        { 0x07eff7fb, 0x07e3f004, 0x07eff7fb },
        { 0x07dfeff7, 0x071f8e08, 0x07dfeff7 },
        { 0x07bfdfef, 0x071f8e10, 0x07bfdfef },
        { 0x077fbfdf, 0x071f8e20, 0x077fbfdf },
        { 0x06ff7fbf, 0x00fc7e40, 0x06ff7fbf },
        { 0x05feff7f, 0x00fc7e80, 0x05feff7f },
        { 0x03fdfeff, 0x00fc7f00, 0x03fdfeff },
        { 0x07fbfdfe, 0x07e003f8, 0x07fbfdfe },
        { 0x07f7fbfd, 0x07e005f8, 0x07f7fbfd },
        { 0x07eff7fb, 0x07e009f8, 0x07eff7fb },
        { 0x07dfeff7, 0x071c11c7, 0x07dfeff7 },
        { 0x07bfdfef, 0x071c21c7, 0x07bfdfef },
        { 0x077fbfdf, 0x071c41c7, 0x077fbfdf },
        { 0x06ff7fbf, 0x00fc803f, 0x06ff7fbf },
        { 0x05feff7f, 0x00fd003f, 0x05feff7f },
        { 0x03fdfeff, 0x00fe003f, 0x03fdfeff },
        { 0x07fbfdfe, 0x0007f1f8, 0x07fbfdfe },
        { 0x07f7fbfd, 0x000bf1f8, 0x07f7fbfd },
        { 0x07eff7fb, 0x0013f1f8, 0x07eff7fb },
        { 0x07dfeff7, 0x00238fc7, 0x07dfeff7 },
        { 0x07bfdfef, 0x00438fc7, 0x07bfdfef },
        { 0x077fbfdf, 0x00838fc7, 0x077fbfdf },
        { 0x06ff7fbf, 0x01007e3f, 0x06ff7fbf },
        { 0x05feff7f, 0x02007e3f, 0x05feff7f },
        { 0x03fdfeff, 0x04007e3f, 0x03fdfeff },
        { 0x07fbfdfe, 0x07fbfdfe, 0x07e3f001 },
        { 0x07f7fbfd, 0x07f7fbfd, 0x07e3f002 },
        { 0x07eff7fb, 0x07eff7fb, 0x07e3f004 },
        { 0x07dfeff7, 0x07dfeff7, 0x071f8e08 },
        { 0x07bfdfef, 0x07bfdfef, 0x071f8e10 },
        { 0x077fbfdf, 0x077fbfdf, 0x071f8e20 },
        { 0x06ff7fbf, 0x06ff7fbf, 0x00fc7e40 },
        { 0x05feff7f, 0x05feff7f, 0x00fc7e80 },
        { 0x03fdfeff, 0x03fdfeff, 0x00fc7f00 },
        { 0x07fbfdfe, 0x07fbfdfe, 0x07e003f8 },
        { 0x07f7fbfd, 0x07f7fbfd, 0x07e005f8 },
        { 0x07eff7fb, 0x07eff7fb, 0x07e009f8 },
        { 0x07dfeff7, 0x07dfeff7, 0x071c11c7 },
        { 0x07bfdfef, 0x07bfdfef, 0x071c21c7 },
        { 0x077fbfdf, 0x077fbfdf, 0x071c41c7 },
        { 0x06ff7fbf, 0x06ff7fbf, 0x00fc803f },
        { 0x05feff7f, 0x05feff7f, 0x00fd003f },
        { 0x03fdfeff, 0x03fdfeff, 0x00fe003f },
        { 0x07fbfdfe, 0x07fbfdfe, 0x0007f1f8 },
        { 0x07f7fbfd, 0x07f7fbfd, 0x000bf1f8 },
        { 0x07eff7fb, 0x07eff7fb, 0x0013f1f8 },
        { 0x07dfeff7, 0x07dfeff7, 0x00238fc7 },
        { 0x07bfdfef, 0x07bfdfef, 0x00438fc7 },
        { 0x077fbfdf, 0x077fbfdf, 0x00838fc7 },
        { 0x06ff7fbf, 0x06ff7fbf, 0x01007e3f },
        { 0x05feff7f, 0x05feff7f, 0x02007e3f },
        { 0x03fdfeff, 0x03fdfeff, 0x04007e3f }
};

const BitBoard32 SQUARE_TRUCE_MASKS[BOARD_SQUARE_COUNT][BOARD_TRI_ROW_COUNT] = {
        { 0x001c0ffe, 0x00040201, 0x00040201 },
        { 0x001c0ffd, 0x00080402, 0x00080402 },
        { 0x001c0ffb, 0x00100804, 0x00100804 },
        { 0x00e071f7, 0x00201008, 0x00201008 },
        { 0x00e071ef, 0x00402010, 0x00402010 },
        { 0x00e071df, 0x00804020, 0x00804020 },
        { 0x070381bf, 0x01008040, 0x01008040 },
        { 0x0703817f, 0x02010080, 0x02010080 },
        { 0x070380ff, 0x04020100, 0x04020100 },
        { 0x001ffc07, 0x00040201, 0x00040201 },
        { 0x001ffa07, 0x00080402, 0x00080402 },
        { 0x001ff607, 0x00100804, 0x00100804 },
        { 0x00e3ee38, 0x00201008, 0x00201008 },
        { 0x00e3de38, 0x00402010, 0x00402010 },
        { 0x00e3be38, 0x00804020, 0x00804020 },
        { 0x07037fc0, 0x01008040, 0x01008040 },
        { 0x0702ffc0, 0x02010080, 0x02010080 },
        { 0x0701ffc0, 0x04020100, 0x04020100 },
        { 0x07f80e07, 0x00040201, 0x00040201 },
        { 0x07f40e07, 0x00080402, 0x00080402 },
        { 0x07ec0e07, 0x00100804, 0x00100804 },
        { 0x07dc7038, 0x00201008, 0x00201008 },
        { 0x07bc7038, 0x00402010, 0x00402010 },
        { 0x077c7038, 0x00804020, 0x00804020 },
        { 0x06ff81c0, 0x01008040, 0x01008040 },
        { 0x05ff81c0, 0x02010080, 0x02010080 },
        { 0x03ff81c0, 0x04020100, 0x04020100 },
        { 0x00040201, 0x001c0ffe, 0x00040201 },
        { 0x00080402, 0x001c0ffd, 0x00080402 },
        { 0x00100804, 0x001c0ffb, 0x00100804 },
        { 0x00201008, 0x00e071f7, 0x00201008 },
        { 0x00402010, 0x00e071ef, 0x00402010 },
        { 0x00804020, 0x00e071df, 0x00804020 },
        { 0x01008040, 0x070381bf, 0x01008040 },
        { 0x02010080, 0x0703817f, 0x02010080 },
        { 0x04020100, 0x070380ff, 0x04020100 },
        { 0x00040201, 0x001ffc07, 0x00040201 },
        { 0x00080402, 0x001ffa07, 0x00080402 },
        { 0x00100804, 0x001ff607, 0x00100804 },
        { 0x00201008, 0x00e3ee38, 0x00201008 },
        { 0x00402010, 0x00e3de38, 0x00402010 },
        { 0x00804020, 0x00e3be38, 0x00804020 },
        { 0x01008040, 0x07037fc0, 0x01008040 },
        { 0x02010080, 0x0702ffc0, 0x02010080 },
        { 0x04020100, 0x0701ffc0, 0x04020100 },
        { 0x00040201, 0x07f80e07, 0x00040201 },
        { 0x00080402, 0x07f40e07, 0x00080402 },
        { 0x00100804, 0x07ec0e07, 0x00100804 },
        { 0x00201008, 0x07dc7038, 0x00201008 },
        { 0x00402010, 0x07bc7038, 0x00402010 },
        { 0x00804020, 0x077c7038, 0x00804020 },
        { 0x01008040, 0x06ff81c0, 0x01008040 },
        { 0x02010080, 0x05ff81c0, 0x02010080 },
        { 0x04020100, 0x03ff81c0, 0x04020100 },
        { 0x00040201, 0x00040201, 0x001c0ffe },
        { 0x00080402, 0x00080402, 0x001c0ffd },
        { 0x00100804, 0x00100804, 0x001c0ffb },
        { 0x00201008, 0x00201008, 0x00e071f7 },
        { 0x00402010, 0x00402010, 0x00e071ef },
        { 0x00804020, 0x00804020, 0x00e071df },
        { 0x01008040, 0x01008040, 0x070381bf },
        { 0x02010080, 0x02010080, 0x0703817f },
        { 0x04020100, 0x04020100, 0x070380ff },
        { 0x00040201, 0x00040201, 0x001ffc07 },
        { 0x00080402, 0x00080402, 0x001ffa07 },
        { 0x00100804, 0x00100804, 0x001ff607 },
        { 0x00201008, 0x00201008, 0x00e3ee38 },
        { 0x00402010, 0x00402010, 0x00e3de38 },
        { 0x00804020, 0x00804020, 0x00e3be38 },
        { 0x01008040, 0x01008040, 0x07037fc0 },
        { 0x02010080, 0x02010080, 0x0702ffc0 },
        { 0x04020100, 0x04020100, 0x0701ffc0 },
        { 0x00040201, 0x00040201, 0x07f80e07 },
        { 0x00080402, 0x00080402, 0x07f40e07 },
        { 0x00100804, 0x00100804, 0x07ec0e07 },
        { 0x00201008, 0x00201008, 0x07dc7038 },
        { 0x00402010, 0x00402010, 0x07bc7038 },
        { 0x00804020, 0x00804020, 0x077c7038 },
        { 0x01008040, 0x01008040, 0x06ff81c0 },
        { 0x02010080, 0x02010080, 0x05ff81c0 },
        { 0x04020100, 0x04020100, 0x03ff81c0 }
};

extern const int TRI_ROW_FROM_SQUARE[BOARD_SQUARE_COUNT] = {
        0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0,
        1, 1, 1, 1, 1, 1, 1, 1, 1,
        1, 1, 1, 1, 1, 1, 1, 1, 1,
        1, 1, 1, 1, 1, 1, 1, 1, 1,
        2, 2, 2, 2, 2, 2, 2, 2, 2,
        2, 2, 2, 2, 2, 2, 2, 2, 2,
        2, 2, 2, 2, 2, 2, 2, 2, 2
};

extern const int TRI_ROW_FROM_RANK[BOARD_RANK_COUNT] = {
        0,
        0,
        0,
        1,
        1,
        1,
        2,
        2,
        2
};

extern const BitBoard32 TRI_ROW_RANK_MASKS[BOARD_RANK_COUNT] = {
        0x000001ff,
        0x0003fe00,
        0x07fc0000,
        0x000001ff,
        0x0003fe00,
        0x07fc0000,
        0x000001ff,
        0x0003fe00,
        0x07fc0000
};

extern const BitBoard32 INTERSEC_MASKS[BOARD_INTERSEC_COUNT] = {
        // horizontal
        0x00000007, 0x00000038, 0x000001c0,
        0x00000e00, 0x00007000, 0x00038000,
        0x001c0000, 0x00e00000, 0x07000000,
        0x08000007, 0x08000038, 0x080001c0,
        0x08000e00, 0x08007000, 0x08038000,
        0x081c0000, 0x08e00000, 0x0f000000,
        0x10000007, 0x10000038, 0x100001c0,
        0x10000e00, 0x10007000, 0x10038000,
        0x101c0000, 0x10e00000, 0x17000000,
        // vertical
        0x00040201, 0x00080402, 0x00100804,
        0x00201008, 0x00402010, 0x00804020,
        0x01008040, 0x02010080, 0x04020100,
        0x08040201, 0x08080402, 0x08100804,
        0x08201008, 0x08402010, 0x08804020,
        0x09008040, 0x0a010080, 0x0c020100,
        0x10040201, 0x10080402, 0x10100804,
        0x10201008, 0x10402010, 0x10804020,
        0x11008040, 0x12010080, 0x14020100
};
